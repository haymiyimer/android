package com.example.haymi

import android.net.Uri
import android.os.Bundle
import androidx.activity.ComponentActivity
import androidx.activity.compose.rememberLauncherForActivityResult
import androidx.activity.compose.setContent
import androidx.activity.result.PickVisualMediaRequest
import androidx.activity.result.contract.ActivityResultContracts
import androidx.compose.foundation.Image
import androidx.compose.foundation.layout.Column
import androidx.compose.foundation.layout.fillMaxSize
import androidx.compose.foundation.layout.padding
import androidx.compose.foundation.layout.size
import androidx.compose.material3.Button
import androidx.compose.material3.MaterialTheme
import androidx.compose.material3.Surface
import androidx.compose.material3.Text
import androidx.compose.runtime.Composable
import androidx.compose.runtime.mutableStateOf
import androidx.compose.runtime.remember
import androidx.compose.ui.Modifier
import androidx.compose.ui.platform.LocalContext
import androidx.compose.ui.tooling.preview.Preview
import androidx.compose.ui.unit.dp
import coil.compose.AsyncImage
import coil.compose.rememberAsyncImagePainter
import coil.request.ImageRequest
import com.example.haymi.ui.theme.HaymiTheme

class ImagePickerActivity : ComponentActivity() {
    override fun onCreate(savedInstanceState: Bundle?) {
        super.onCreate(savedInstanceState)
        setContent {
            Image2()
        }
    }
}
@Preview(showBackground = true)
@Composable
fun Image2() {
    val result = remember { mutableStateOf<Uri?>(null) }
    val launcher = rememberLauncherForActivityResult(ActivityResultContracts.PickVisualMedia()) {
        result.value = it
    }

    Column {
        Button(onClick = {
            launcher.launch(
                PickVisualMediaRequest(mediaType = ActivityResultContracts.PickVisualMedia.ImageOnly)
            )
        }) {
            Text(text = "Select Image")
        }

        result.value?.let { image ->

            val painter = rememberAsyncImagePainter(
                ImageRequest
                    .Builder(LocalContext.current)
                    .data(data = image)
                    .build()
            )
            Image(
                painter = painter,
                contentDescription = null,
                modifier = Modifier.size(150.dp, 150.dp)
                    .padding(16.dp)
            )
            AsyncImage(
                model = "https://data:image/jpeg;base64,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.jpg",
                contentDescription = null,
            )
        }
    }

}
